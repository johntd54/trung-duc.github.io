<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>161226 - Google Drive REST API</title>
    <meta name="description" content="A blog documenting the winding journey to be good.
">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://yourdomain.com/googleappengine/google-drive-rest-api.html">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Duc Nguyen</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">161226 - Google Drive REST API</h1>
    <p class="post-meta">Dec 26, 2016</p>
  </header>

  <article class="post-content">
    <h1 id="drive-rest-api-capabilities">Drive REST API capabilities</h1>

<ul>
  <li>Download, upload files</li>
  <li>Create and open files from Google Drive web UI</li>
  <li>Searches for files</li>
  <li>Share and collaborate</li>
  <li>Use shortcuts</li>
  <li>Export and convert Google Docs</li>
</ul>

<h1 id="google-api-authentication-and-authorization">Google API Authentication and Authorization</h1>
<p>(focus mainly in installed apps)</p>

<h2 id="overview">Overview</h2>

<p>App developers gets OAuth2.0 credentials for their client app from Google Api Console —-&gt; App developers embed the credientials inside the source code of their client app —&gt; During usage, client app uses that credentials to request access token from Google server —-&gt; (if authorized) Google server sends back access token to client app —-&gt; Client app uses that access token for the Google API that it is registered.</p>

<h2 id="little-more-detail">Little more detail</h2>

<ol>
  <li>
    <p>Obtain OAuth 2.0 credentials from Google API console. This step is to establish a connection between your app and Google, through the mutually known client ID and client secret</p>
  </li>
  <li>
    <p>Obtain access token from Google Authorization Server. APIs typically are not there for everyone to freely access. The application must request and get an access token to use the APIs. Some types of requests require users to log in and explicitly allow permissions that your app request. This is called user consent.</p>
  </li>
  <li>
    <p>Send access token to use API.</p>
  </li>
  <li>
    <p>Refresh the access token if necessary, using refresh token.</p>
  </li>
</ol>

<h2 id="token-expirations">Token expirations</h2>

<p>When:</p>

<ul>
  <li>Users revoke access from the app</li>
  <li>Token has not been used for 6 months</li>
  <li>User changed password and the token contain Gmail scopes</li>
  <li>User account exceeds a certain number of tokens requests</li>
</ul>

<h2 id="note">Note:</h2>

<ul>
  <li>The client ID and secret ID should be embedded inside client app’s source code, which ironically makes it not a secret… </li>
  <li>(From some testing with Google Drive Python API)</li>
  <li>the access token json file must contains all original keys (regardless of values)</li>
  <li>as long as access_token is still valid (has not expired), the value of refresh_token, client_id and client_secret are unnecessary</li>
</ul>

<h1 id="resources">Resources</h1>

<ul>
  <li><a href="https://developers.google.com/api-client-library/python/guide/aaa_oauth">Python API Client Library</a></li>
</ul>


  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Duc Nguyen</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Duc Nguyen</li>
          <li><a href="mailto:"></a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">A blog documenting the winding journey to be good.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
